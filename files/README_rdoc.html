<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>File: README.rdoc [Gibbler: Git-like hashes for Ruby objects]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <div class='name'>README.rdoc</div>
        <div class='paths'>
          README.rdoc
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>2009-08-24 20:09:34 -0400</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <h1><a href="../classes/Gibbler.html">Gibbler</a> - v0.6 ALPHA</h1>
            <p>
            Git-like hashes and history for Ruby objects for Ruby 1.8, 1.9 and JRuby.
            </p>
            <p>
            <b>NOTE: Digests changed in the 0.6 release for <a
            href="../classes/Class.html">Class</a>, <a
            href="../classes/Module.html">Module</a>, and <a
            href="../classes/Proc.html">Proc</a> objects. See &#8220;News&#8221; below
            for more info.</b>
            </p>
            <p>
            Check out the <a
            href="http://www.rubypulse.com/episode-0.3-gibbler.html">screencast</a>
            created by Alex Peuchert.
            </p>
            <h2>Example 1 &#8212; Basic Usage</h2>
            <pre>require 'gibbler'&#x000A;&#x000A;&quot;kimmy&quot;.gibbler              # =&gt; c8027100ecc54945ab15ddac529230e38b1ba6a1&#x000A;:kimmy.gibbler               # =&gt; 52be7494a602d85ff5d8a8ab4ffe7f1b171587df&#x000A;&#x000A;config = {}&#x000A;config.gibbler               # =&gt; 4fdcadc66a38feb9c57faf3c5a18d5e76a6d29bf&#x000A;config.gibbled?              # =&gt; false&#x000A;&#x000A;config[:server] = {&#x000A;  :users =&gt; [:dave, :ali],&#x000A;  :ports =&gt; [22, 80, 443]&#x000A;}&#x000A;config.gibbled?              # =&gt; true&#x000A;config.gibbler               # =&gt; ef23d605f8c4fc80a8e580f9a0e8dab8426454a8&#x000A;&#x000A;config[:server][:users] &lt;&lt; :yanni&#x000A;&#x000A;config.gibbler               # =&gt; 4c558a56bc2abf5f8a845a69e47ceb5e0003683f&#x000A;&#x000A;config.gibbler.short         # =&gt; 4c558a56</pre>
            <h2>Example 2 &#8212; Object History</h2>
            <p>
            <a href="../classes/Gibbler.html">Gibbler</a> can also keep track of the
            history of changes to an object. By default <a
            href="../classes/Gibbler.html">Gibbler</a> supports history for <a
            href="../classes/Hash.html">Hash</a>, <a
            href="../classes/Array.html">Array</a>, and <a
            href="../classes/String.html">String</a> objects. The
            <tt>gibbler_commit</tt> method creates a clone of the current object and
            stores in an instance variable using the current hash digest as the key.
            </p>
            <pre>require 'gibbler'&#x000A;require 'gibbler/history'&#x000A;&#x000A;a = { :magic =&gt; :original }&#x000A;a.gibbler_commit             # =&gt; d7049916ddb25e6cc438b1028fb957e5139f9910&#x000A;&#x000A;a[:magic] = :updated&#x000A;a.gibbler_commit             # =&gt; b668098e16d08898532bf3aa33ce2253a3a4150e&#x000A;&#x000A;a[:magic] = :changed&#x000A;a.gibbler_commit             # =&gt; 0b11c377fccd44554a601e5d2b135c46dc1c4cb1&#x000A;&#x000A;a.gibbler_history            # =&gt; d7049916, b668098e, 0b11c377&#x000A;&#x000A;a.gibbler_revert! 'd7049916' # Return to a specific commit&#x000A;a.gibbler                    # =&gt; d7049916ddb25e6cc438b1028fb957e5139f9910&#x000A;a                            # =&gt; { :magic =&gt; :original }&#x000A;&#x000A;a.delete :magic&#x000A;&#x000A;a.gibbler_revert!            # Return to the previous commit&#x000A;a.gibbler                    # =&gt; 0b11c377fccd44554a601e5d2b135c46dc1c4cb1&#x000A;a                            # =&gt; { :magic =&gt; :changed }&#x000A;&#x000A;a.gibbler_object 'b668098e'  # =&gt; { :magic =&gt; :updated }&#x000A;a.gibbler_stamp              # =&gt; 2009-07-01 18:56:52 -0400</pre>
            <p>
            <img src="http://delano.github.com/gibbler/img/whoababy.gif" />
            </p>
            <h2>Example 3 &#8212; Method Aliases</h2>
            <p>
            If you have control over the namespaces of your objects, you can use the
            method aliases to tighten up your code a bit. The &#8220;gibbler&#8221; and
            &#8220;gibbled?&#8221; methods can be accessed via &#8220;digest&#8221; and
            &#8220;changed?&#8221;, respectively. (The reason they&#8217;re not enabled
            by default is to avoid conflicts.)
            </p>
            <pre>require 'gibbler'&#x000A;require 'gibbler/aliases'&#x000A;&#x000A;&quot;kimmy&quot;.digest               # =&gt; c8027100ecc54945ab15ddac529230e38b1ba6a1&#x000A;:kimmy.digest                # =&gt; 52be7494a602d85ff5d8a8ab4ffe7f1b171587df&#x000A;&#x000A;a = [:a, :b, :c]&#x000A;a.digest                     # =&gt; e554061823b8f06367555d1ee4c25b4ffee61944&#x000A;a &lt;&lt; :d&#x000A;a.changed?                   # =&gt; true</pre>
            <p>
            The history methods also have aliases which remove the
            &#8220;gibbler_&#8221;.
            </p>
            <pre>require 'gibbler'&#x000A;require 'gibbler/history'&#x000A;require 'gibbler/aliases'&#x000A;&#x000A;a = { :magic =&gt; :original }&#x000A;a.commit&#x000A;a.history&#x000A;a.revert!&#x000A;# etc...</pre>
            <h2>Supported Classes</h2>
            <p>
            <a href="../classes/Gibbler.html">Gibbler</a> methods are available only to
            the classes which explicitly include them (see <a
            href="http://delano.github.com/gibbler">RDocs</a> for details on which
            classes are supported by default). You can also extend custom objects:
            </p>
            <pre>class FullHouse&#x000A;  include Gibbler::Complex&#x000A;  attr_accessor :roles&#x000A;end&#x000A;&#x000A;a = FullHouse.new&#x000A;a.gibbler                    # =&gt; 4192d4cb59975813f117a51dcd4454ac16df6703&#x000A;&#x000A;a.roles = [:jesse, :joey, :danny, :kimmy, :michelle, :dj, :stephanie]&#x000A;a.gibbler                    # =&gt; 6ea546919dc4caa2bab69799b71d48810a1b48fa</pre>
            <p>
            <a href="../classes/Gibbler/Complex.html">Gibbler::Complex</a> creates a
            digest based on the name of the class and the names and values of the
            instance variables. See the <a
            href="http://delano.github.com/gibbler">RDocs</a> for other Gibbler::*
            types.
            </p>
            <p>
            If you want to support all Ruby objects, add the following to your
            application:
            </p>
            <pre>class Object&#x000A;  include Gibbler::String&#x000A;end</pre>
            <p>
            <a href="../classes/Gibbler/String.html">Gibbler::String</a> creates a
            digest based on the name of the class and the output of the to_s method.
            This is a reasonable default for most objects however any object that
            includes the object address in to_s (e.g.
            &#8220;Object:0x0x4ac9f0...&#8220;) will produce unreliable digests
            (because the address can change).
            </p>
            <h2>ALPHA Notice</h2>
            <p>
            This code is hella fresh (est 2009-06-25). It&#8217;s barely tested and the
            interface may change, but it&#8217;s fun to play with. I&#8217;ll happily
            accept patches. Some things to keep in mind:
            </p>
            <ul>
            <li><a href="../classes/Gibbler.html">Gibbler</a> history is not suitable for
            very large objects since it keeps complete copies of the object in memory.
            This is a very early implementation of this feature so don&#8217;t rely on
            it for production code.
            
            </li>
            <li>Digest calculation may change between non-trivial releases.
            
            </li>
            <li>There has been very little testing for concurrency issues. (Anyone
            interested?)
            
            </li>
            </ul>
            <h2>News</h2>
            <h3>2009-07-20: Digest change for instances of <a href="../classes/Class.html">Class</a>, <a href="../classes/Module.html">Module</a>, and <a href="../classes/Proc.html">Proc</a></h3>
            <p>
            Digest calculation has changed for <a
            href="../classes/Class.html">Class</a>, <a
            href="../classes/Module.html">Module</a>, and <a
            href="../classes/Proc.html">Proc</a> objects. Digests created with <a
            href="../classes/Gibbler.html">Gibbler</a> 0.5.x and earlier will not match
            the ones created by 0.6.
            </p>
            <ul>
            <li><a href="../classes/Class.html">Class</a> and <a
            href="../classes/Module.html">Module</a> objects were calculating digests
            based on the output of <tt>self.to_s</tt>. This was a problem because that
            string contains a memory address which can change arbitrarily. The new
            calculation is based on the object class, the length of name, and the name
            itself. e.g. <tt>&quot;Class:6:Object&quot; # =&gt;
            '5620e4a8b10ec6830fece61d33f5d3e9a349b4c2'</tt>
            
            </li>
            <li><a href="../classes/Proc.html">Proc</a> objects were including the return
            value of <tt>self.binding</tt> in the digest calculation. This is not
            reliable because the binding includes an arbitrary address. The new
            calculation is based on the class name, the arity, and whether it was
            created with a lambda.
            
            </li>
            </ul>
            <p>
            Also note that this change affects the digests for Hashes and Arrays that
            contain instances of <a href="../classes/Class.html">Class</a>, <a
            href="../classes/Module.html">Module</a>, or <a
            href="../classes/Proc.html">Proc</a>.
            </p>
            <h3>2009-07-17: Improved support for <a href="../classes/Symbol.html">Symbol</a> and <a href="../classes/Fixnum.html">Fixnum</a></h3>
            <p>
            With the upgrade to Attic 0.4, the gibbled? method and object history is
            now available for <a href="../classes/Symbol.html">Symbol</a> and <a
            href="../classes/Fixnum.html">Fixnum</a> objects.
            </p>
            <h2>Known Issues</h2>
            <ul>
            <li>gibbler or gibbled? must be called at least once before gibbled? will be
            able to return a useful value (otherwise there is no previous digest value
            to compare to)
            
            </li>
            <li>Digests for <a href="../classes/Bignum.html">Bignum</a> objects are
            different between (MRI) Ruby and JRuby. Does anyone know why?
            
            </li>
            <li>Digests for <a href="../classes/Proc.html">Proc</a> objects are different
            between Ruby 1.8 and 1.9 because Proc.arity returns different values and
            1.8 has no lambda? method.
            
            </li>
            </ul>
            <h2>Installation</h2>
            <p>
            Via Rubygems, one of:
            </p>
            <pre>$ gem install gibbler&#x000A;$ gem install delano-gibbler</pre>
            <p>
            or via download:
            </p>
            <ul>
            <li><a
            href="http://github.com/delano/gibbler/tarball/latest">gibbler-latest.tar.gz</a>
            
            </li>
            <li><a
            href="http://github.com/delano/gibbler/zipball/latest">gibbler-latest.zip</a>
            
            </li>
            </ul>
            <h2>What People Are Saying</h2>
            <ul>
            <li>&#8220;nice approach - everything is an object, every object is
            &#8216;gittish&#8217;&#8221; &#8212; @<a
            href="http://twitter.com/olgen_morten/statuses/2629909133">olgen_morten</a>
            
            </li>
            <li>&#8220;gibbler is just awesome&#8221; &#8212; @<a
            href="http://twitter.com/TomK32/statuses/2618542872">TomK32</a>
            
            </li>
            <li>&#8220;wie cool ist <a href="../classes/Gibbler.html">Gibbler</a>
            eigentlich?&#8221; &#8212; @<a
            href="http://twitter.com/we5/statuses/2615274279">we5</a>
            
            </li>
            <li>&#8220;it&#8217;s nice idea and implementation!&#8221; &#8212; <a
            href="http://www.rubyinside.com/gibbler-git-like-hashes-and-history-for-ruby-objects-1980.html#comment-39092">HristoHristov</a>
            
            </li>
            </ul>
            <h2>More Info</h2>
            <ul>
            <li><a href="http://github.com/delano/gibbler">Codes</a>
            
            </li>
            <li><a href="http://delano.github.com/gibbler">RDocs</a>
            
            </li>
            <li><a href="http://solutious.com/">Sponsor</a>
            
            </li>
            <li><a href="http://www.youtube.com/watch?v=fipD4DdV48g">Inspiration</a>
            
            </li>
            </ul>
            <h2>Thanks</h2>
            <ul>
            <li>Kalin Harvey (<a href="http://github.com/krrh">krrh</a>) for the early
            feedback and artistic direction.
            
            </li>
            <li>Alex Peuchert (<a href="http://github.com/aaalex">aaalex</a>) for creating
            the screencast.
            
            </li>
            </ul>
            <h2>Credits</h2>
            <ul>
            <li>Delano (@solutious.com)
            
            </li>
            </ul>
            <h2>License</h2>
            <p>
            See: <a href="LICENSE_txt.html">LICENSE.txt</a>
            </p>
          </div>
          <div id='section'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
